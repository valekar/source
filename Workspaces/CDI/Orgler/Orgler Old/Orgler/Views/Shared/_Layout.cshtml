<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Orgler - @ViewBag.Title</title>
    <link href="@Url.Content("~/Content/menustyles.css")" rel="stylesheet" type="text/css" />
    <link href="@Url.Content("~/Content/Tab.css")" rel="stylesheet" type="text/css" />
    <!--<link href="~/Content/Site.css" rel="stylesheet" type="text/css" />-->
    <link href="~/Content/font-awesome.min.css" rel="stylesheet" type="text/css" />
    <link href="@Url.Content("~/Content/Gridmvc.css")" rel="stylesheet" type="text/css" />

    @*<link href="@Url.Content("~/Content/Bootstrap.min.css")" rel="stylesheet" type="text/css" />*@

    <link href="@Url.Content("~/Content/Bootstrap.min.css")" rel="stylesheet" type="text/css" />

    <link href="@Url.Content("~/Content/myCSS.css")" rel="stylesheet" type="text/css" />
    <link href="@Url.Content("~/Content/themes/jquery-ui.css")" rel="stylesheet" />
    <link href="@Url.Content("~/Content/ladda-bootstrap/ladda-themeless.min.css")" rel="stylesheet" />

    <script src="@Url.Content("~/Scripts/jquery-1.10.2.js")"></script>

    <script src="@Url.Content("~/Scripts/angular.js")"></script>
    <script src="@Url.Content("~/Scripts/angular-resource.min.js")"></script>
    <script src="@Url.Content("~/Scripts/ui-bootstrap.min.js")"></script>
    <script src="@Url.Content("~/Scripts/angular-ui-router.min.js")"></script>
    <script src="@Url.Content("~/Scripts/ngStorage.min.js")"></script>
    <script src="@Url.Content("~/Scripts/angular-backtop.min.js")"></script>
    <base href="/">
    <script src="@Url.Content("~/Scripts/bootstrap.min.js")"></script>
    <script src="@Url.Content("~/Scripts/respond.min.js")"></script>

    <script src="@Url.Content("~/Scripts/uiBreadcrumbs.js")" type="text/javascript"></script>

    <script src="@Url.Content("~/App/App.js")"></script>

    <link rel="Shortcut Icon" href="favicon.ico" />
    <style>
        .wordwrap {
            white-space: pre-wrap; /* CSS3 */
            white-space: -moz-pre-wrap; /* Firefox */
            white-space: -pre-wrap; /* Opera <7 */
            white-space: -o-pre-wrap; /* Opera 7 */
            word-wrap: break-word; /* IE */
            vertical-align: middle;
            height: 43px;
            padding-top: 5px;
        }

        .ChkSelected {
            color: Red;
            background-color: #ede4e4;
            font-weight: bold;
        }

        .numberCircle {
            border-radius: 50%;
            behavior: url(PIE.htc); /* remove if you don't care about IE8 */
            width: 24px;
            height: 24px;
            padding: 2px;
            background: #ddd;
            border: 2px solid #428bca;
            color: #f62323;
            text-align: center;
            font: 14px Arial, sans-serif;
            display: inline-block;
            margin: 3px;
        }
    </style>
    <script>
        //$.ajaxSetup({ cache: false }); // this didnt help, so added the relevant code in app.js

        AddOverflow = function (t) {
            t.style.height = "100%";
            t.style.overflow = 'Auto';
        }

        RemoveOverflow = function (t) {
            t.style.height = "";
            t.style.overflow = "";
        }
    </script>
</head>
<body>
    <div class="" style=" margin-left:8px; ">
        <div style="float:left; margin-right:10px; margin-top:5px;margin-bottom:5px;"><img src="~/Images/redcross-logo1.png" alt="Red cross logo" /> </div>
        @*<div style="position: absolute; left: 1%; top: 2%"><img src="~/Images/StuartFAK.jpg" width="40" alt="Stuart Little was here :)" /> </div>*@
        <div style="float:left;">
            <div class="site-title" style="padding-top:10px;">
                <a href="~/home">Orgler</a>
            </div>
        </div>

        <div class="modal fade" id="iMainErrorModal" role="dialog" data-backdrop="static"
             data-keyboard="false">
            <div class="modal-dialog">

                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title" ng-bind="header"></h4>
                    </div>
                    <div class="modal-body">
                        <p ng-bind="message"></p>

                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    </div>
                </div>

            </div>
        </div>
        <div class="tfclear"></div>
    </div>

    <div id='divMenu' style="background-color:#ededed" class="container-fluid">
        <section class="featured">
            <div class="container-fluid">
                <div id='cssmenu' menuline style="background-color: #ededed;position:relative; z-index:10;">
                    <ul>


                        @{


                            string action = HttpContext.Current.Request.Url.PathAndQuery.ToString().Replace("/Home", "");
                            string act = "", topAccount = "";
                            //if (action.IndexOf("/Account", System.StringComparison.CurrentCultureIgnoreCase) >= 0) { act = "active "; }
                            //else if (action.IndexOf("/Admin", System.StringComparison.CurrentCultureIgnoreCase) >= 0) { adm = "active "; }
                            //else if (action.IndexOf("/Case", System.StringComparison.CurrentCultureIgnoreCase) >= 0) { cas = "active "; }
                            if (action.IndexOf("/Account Monitoring", System.StringComparison.CurrentCultureIgnoreCase) >= 0) { act = "active "; }
                            else if (action.IndexOf("/TopAccount", System.StringComparison.CurrentCultureIgnoreCase) >= 0) { topAccount = "active "; }
                            else { act = "active "; }
                        }
                        @{
                            //if (@Model.constituent_tb_access != "N")
                            //{
                                <li class='@act'>@Html.ActionLink("New Accounts", "Index", "Constituent")</li>
                            //}
                            //if (@Model.case_tb_access != "N")
                            //{
                                <li class='@topAccount'>@Html.ActionLink("Top Accounts", "TopAccount", "Home")</li>
                           // }
                            @*if (@Model.case_tb_access != "N")
                            {
                                <li class='@cas'>@Html.ActionLink("Enterprise Accounts", "Index", "")</li>
                            }*@

                            @*if (@Model.transaction_tb_access != "N")
                                {
                                    <li class='@tra'>@Html.ActionLink("Transaction", "Index", "Transaction")</li>
                                }*@
                            //if (@Model.upload_tb_access != "N")
                            //{
                            @*<li class='@upl has-sub'>*@
                            @* DEPLOY *@
                            @*<a href='~/Home/Upload'>Upload</a>
                                <ul>
                                    <li class='has-sub1'><a href="/upload/listUpload">List Upload Search</a></li>
                                    <li class='has-sub1'><a href="/upload/groupmembershipupload">Group Membership Upload</a></li>
                                    <li class='has-sub1'><a href="/upload/emailonlyupload">Email-only Upload</a></li>
                                    <li class='has-sub1'><a href="/upload/groupmembershipreferencetable">Group Membership Reference Data</a></li>
                                    <li class='has-sub1'><a href="/upload/nameandemailupload">Name and Email Upload</a></li>

                                    @*<li class='has-sub1'>@Html.ActionLink("Group Membership Reference Table", "GroupMembershipReferenceTable", "Upload", new { controller = "Upload" }, new { })</li>*@

                            @*<li class='has-sub1'>@Html.ActionLink("Email-only Upload", "ChapterGroup", new { controller = "Upload" }, new { })</li>
                                <li class='has-sub1'>@Html.ActionLink("Name and Email Upload", "LOBEmail", new { controller = "Upload" }, new { })</li>
                                <li class='has-sub1'>@Html.ActionLink("Group Membership Reference Data", "GroupMembershipReferenceTable", new { controller = "Upload" }, new { })</li>*@
                            @*</ul>
                                </li>*@
                       // }
                        //if (@Model.admin_tb_access != "N")
                        //{
                            @*<li class='@adm has-sub'>
                                    <a href='~/Home/Admin'>Admin</a>
                                    <ul>
                                        <li class='has-sub1'>@Html.ActionLink("Administration", "Admin", new { controller = "Admin" }, new { })</li>
                                        <li class='has-sub1'>@Html.ActionLink("Tab Level Security", "TabLevel", new { controller = "Admin" }, new { })</li>

                                    </ul>
                                </li>*@
                            //}



                            //if (@Model.locator_tab_access != "N")
                            //{
                                @*<li class='@loc has-sub'>
                                        <a href='~/Home/Locator'>Locator</a>
                                        <ul>
                                            <li class='has-sub1'>@Html.ActionLink("Email", "Email", new { controller = "Locator" }, new { })</li>
                                            <li class='has-sub1'>@Html.ActionLink("Address", "Address", new { controller = "Locator" }, new { })</li>

                                        </ul>
                                    </li>*@
                            //}

                        }
                    </ul>
                </div>
            </div>
        </section>
        <div style="clear:both;"></div>
        <div id='divRedBar' style="width:100%;height:2px; background-color:Red;"></div>
    </div>
    <div style="padding:0px;float:left; width:100%; height:100%; border-left:1px solid #ede4e4; background-color:white;">
        <div id="divRefresh" class="refresh" style="padding:15px;float:left; width:100%;  height:100px; display:none;"></div>
        @RenderBody()
    </div>
    <div style="width:100%;height:20px;clear:both;">&nbsp;</div>
    <div class="panel-footer" style="text-align: center">&copy; American Red Cross 2016. Use Chrome or Firefox for optimum performance.</div>

    @RenderSection("scripts", required: false)
    @Scripts.Render("~/bundles/scripts")

    <script type="text/javascript">
        @RenderSection("jsCode", required: false)

        var divObj = document.getElementById("divRedBar");
        var mnuObj = document.getElementById("divMenu");
        var curtop = 0;
        var doc = document.documentElement;
        //alert(doc);
        function onScroll() {

            var left = (window.pageXOffset || doc.scrollLeft) - (doc.clientLeft || 0);
            var top = (window.pageYOffset || doc.scrollTop) - (doc.clientTop || 0);
            curtop = mnuObj.offsetTop - mnuObj.scrollTop;
            if ($(window).width() > 600) {
                if (top > 136) {
                   // alert($(window).width());
                    //mnuObj.style.top = 0 + 'px';
                    //mnuObj.style.left = 0 + 'px';
                    //mnuObj.style.position = 'fixed';
                    mnuObj.setAttribute("style", "width:100%;position:fixed;left:0px;top:0px;")
                    mnuObj.style.zIndex = '99';
                    divObj.style.top = 52 + 'px';
                    divObj.style.left = 0 + 'px'
                    divObj.style.position = 'fixed';
                    divObj.style.zIndex = '99';
                    //alert(typeof (document.getElementById("DivConstituentDetailsHeader")) === null);
                    if (!(document.getElementById("DivDetailsHeader")== null)) {
                        var detObj = document.getElementById("DivDetailsHeader");
                        detObj.setAttribute("style", "position:fixed;left:0px;top:74px;width:100%;");
                        detObj.style.zIndex = '99';
                    }
                    //alert(uiRows.name);

                }
                else {
                    mnuObj.style.top = 90 + 'px';
                    mnuObj.style.position = '';
                    divObj.style.top = 91 + 'px';
                    divObj.style.position = '';
                    if (!(document.getElementById("DivDetailsHeader") == null)) {
                        var detObj = document.getElementById("DivDetailsHeader");
                        detObj.setAttribute("style", "position:'';top:93px;")
                    }
                }
            }
        }

        $(window).on('scroll', function () {
            onScroll();
        });
    </script>




</body>
</html>
